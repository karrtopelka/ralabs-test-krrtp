(this["webpackJsonpralaabs-test-karrtopelka"]=this["webpackJsonpralaabs-test-karrtopelka"]||[]).push([[0],{109:function(e,t){e.exports=function(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()];return"".concat(t,",  ").concat(String(e).slice(3,15))}},115:function(e,t,n){},26:function(e,t){var n=function(e){var t,n,c,r=document.cookie.split(";");for(t=0;t<r.length;t++)if(n=r[t].substr(0,r[t].indexOf("=")),c=r[t].substr(r[t].indexOf("=")+1),(n=n.replace(/^\s+|\s+$/g,""))===e)return c};e.exports={checkCookie:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"local_weather",t=n(e);return t||0},setCookie:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"local_weather",t=arguments.length>1?arguments[1]:void 0,n=new Date;n.setDate(n.getMinutes()+10),document.cookie="".concat(e," = ").concat(JSON.stringify(t))}}},441:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),s=n(18),i=n.n(s),a=(n(115),n(27)),j=n(11),o=n(36),l=n(59),d=n(10),x=function(e){var t=e.left,n=e.right;Object(l.a)(e,["left","right"]);return Object(d.jsxs)(j.Row,{justify:"space-between",style:{padding:10},children:[Object(d.jsx)(j.Col,{children:t}),Object(d.jsx)(j.Col,{style:{textAlign:"right"},children:n})]})},h={key:"0aede5452ca05333aeb7943df685ad17",base:"https://api.openweathermap.org/data/2.5/"},b=n(26),u=function(e){var t=e.setWeather,n=Object(j.useMediaQuery)("xs",{match:"down"}),r=Object(c.useState)(""),s=Object(a.a)(r,2),i=s[0],o=s[1];return Object(d.jsx)(j.Card,{shadow:!0,children:Object(d.jsxs)(j.Grid.Container,{gap:1,justify:"space-around",children:[Object(d.jsx)(j.Grid,{children:Object(d.jsx)(j.Text,{h3:!0,style:{margin:0},children:"Search location"})}),Object(d.jsx)(j.Grid,{children:Object(d.jsx)(j.Tooltip,{text:Object(d.jsxs)(d.Fragment,{children:["Then hit "," ",Object(d.jsx)(j.Keyboard,{children:"Enter"})]}),trigger:"click",type:"dark",placement:n?"bottom":"top",children:Object(d.jsx)(j.Input,{type:"text",placeholder:"Search...",onChange:function(e){return o(e.target.value)},value:i,onKeyPress:function(e){if("Enter"===e.key){var n=Object(b.checkCookie)(i);n?(o(""),t(JSON.parse(n))):fetch("".concat(h.base,"weather?q=").concat(i,"&units=metric&appid=").concat(h.key)).then((function(e){return e.json()})).then((function(e){o(""),t(e),Object(b.setCookie)(i,e)}))}}})})})]})})},O=n(36),g=O.Sun,p=O.Cloud,m=O.CloudSnow,f=O.CloudRain,y=O.AlignCenter;function w(e){switch(e){case"Snow":return Object(d.jsx)(m,{size:48});case"Clouds":return Object(d.jsx)(p,{size:48});case"Sunny":return Object(d.jsx)(g,{size:48});case"Rain":return Object(d.jsx)(f,{size:48});case"Clear":return Object(d.jsx)(g,{size:48});case"Mist":return Object(d.jsx)(y,{size:48});default:return Object(d.jsx)(g,{size:48})}}var C=function(e){var t=e.text1,n=e.text2,c=e.p,r=e.r;return Object(d.jsxs)(j.Col,{style:r?{textAlign:"right"}:{textAlign:"left"},children:[Object(d.jsx)(j.Text,{h6:!c,p:c,style:{margin:0,color:"#ccc"},children:t}),Object(d.jsx)(j.Text,{h6:!c,p:c,style:{margin:0,color:"#ccc"},children:n})]})},k=function(e){var t=e.isSM,n=e.weather,c=Object(j.useMediaQuery)("xs",{match:"down"});return Object(d.jsxs)(d.Fragment,{children:[!t&&Object(d.jsx)(j.Col,{span:4}),Object(d.jsxs)(j.Grid.Container,{gap:2,justify:"space-between",alignItems:"center",children:[Object(d.jsx)(j.Grid,{sm:!0,xs:12,children:Object(d.jsx)(C,{text1:"wind speed",text2:"".concat(n.wind.speed," m/s"),p:!0,r:c})}),Object(d.jsx)(j.Grid,{sm:!0,xs:12,children:Object(d.jsx)(C,{text1:"feels like",text2:"".concat(n.main.feels_like,"\xb0C"),p:!0})}),Object(d.jsx)(j.Grid,{sm:!0,xs:12,children:Object(d.jsx)(C,{text1:"pressure",text2:"".concat(n.main.pressure," inHg"),p:!0,r:c})}),Object(d.jsx)(j.Grid,{sm:!0,xs:12,children:Object(d.jsx)(C,{text1:"humidity",text2:"".concat(n.main.humidity,"%"),p:!0})})]}),!t&&Object(d.jsx)(j.Col,{span:4})]})},v=n(110),T=function(e){var t=e.children,n=Object(l.a)(e,["children"]);return Object(d.jsx)("div",{style:Object(v.a)({textAlign:"center",width:"100%"},n),children:t})},S=function(e){var t=e.weather;return Object(d.jsx)(T,{children:Object(d.jsxs)(j.Text,{h3:!0,"text-align":"center",style:{margin:0},children:[t.name,", ",t.sys.country]})})},G=n(109),M=n.n(G),F=function(){return Object(d.jsx)(T,{children:Object(d.jsx)(j.Text,{p:!0,size:12,"text-align":"center",style:{margin:0,color:"#ccc"},children:M()(new Date)})})},z=function(e){var t=e.isSM,n=e.weather;return Object(d.jsxs)(d.Fragment,{children:[!t&&Object(d.jsx)(j.Col,{span:36}),Object(d.jsxs)(j.Grid.Container,{gap:2,justify:"space-between",alignItems:"center",children:[Object(d.jsx)(j.Grid,{sm:!0,xs:12,children:Object(d.jsx)(C,{text1:"Min",text2:"".concat(Math.round(n.main.temp_min),"\xb0C"),r:!0})}),Object(d.jsx)(j.Grid,{sm:!0,xs:12,children:Object(d.jsx)(C,{text1:"Max",text2:"".concat(Math.round(n.main.temp_max),"\xb0C")})})]}),!t&&Object(d.jsx)(j.Col,{span:36})]})},A=function(e){var t=e.weather;return Object(d.jsx)(T,{children:Object(d.jsx)(j.Text,{h5:!0,"text-align":"center",style:{margin:0,color:"#ccc"},children:t.weather[0].main})})},P=function(e){var t=e.weather,n=Object(j.useMediaQuery)("xs",{match:"down"});return Object(d.jsxs)(j.Grid.Container,{gap:2,justify:"center",children:[Object(d.jsx)(j.Grid,{xs:24,style:{paddingBottom:0},children:Object(d.jsx)(F,{})}),Object(d.jsx)(j.Grid,{xs:24,style:{paddingBottom:0},children:Object(d.jsx)(S,{weather:t})}),Object(d.jsx)(j.Grid,{xs:24,style:{paddingTop:0},children:Object(d.jsx)(A,{weather:t})}),Object(d.jsx)(j.Grid,{xs:24,children:Object(d.jsx)(T,{children:w(t.weather[0].main)})}),Object(d.jsx)(j.Grid,{xs:24,style:{paddingBottom:0,paddingTop:0},children:Object(d.jsx)(T,{children:Object(d.jsxs)(j.Text,{h1:!0,children:[Math.round(t.main.temp),"\xb0C"]})})}),Object(d.jsx)(j.Grid,{xs:24,style:{paddingTop:0,margin:-10},children:Object(d.jsx)(z,{isSM:n,weather:t})}),Object(d.jsx)(j.Grid,{xs:24,children:Object(d.jsx)(k,{isSM:n,weather:t})})]})},B=function(e){var t=e.weather;return Object(d.jsx)(j.Card,{shadow:!0,children:"undefined"!=typeof t.main?Object(d.jsx)(P,{weather:t}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(j.Text,{h3:!0,children:"Nothing found \ud83d\ude0c"}),Object(d.jsx)(j.Text,{p:!0,children:"(that's not a problem, just try to find again)"})]})})},R=function(){var e=Object(c.useState)({}),t=Object(a.a)(e,2),n=t[0],r=t[1],s=Object(j.useMediaQuery)("sm",{match:"down"}),i=Object(j.useToasts)(),o=Object(a.a)(i,2)[1];return Object(c.useEffect)((function(){Object(b.checkCookie)("agreement")||o({text:"This site uses cookie, do you agree to them?",type:"warning",delay:5e4,actions:[{name:"Agree",handler:function(e,t){Object(b.setCookie)("agreement",!0),t()}}]});var e=Object(b.checkCookie)();e?r(JSON.parse(e)):navigator.geolocation.getCurrentPosition((function(e){fetch("".concat(h.base,"weather?lat=").concat(e.coords.latitude,"&lon=").concat(e.coords.longitude,"&units=metric&appid=").concat(h.key)).then((function(e){return e.json()})).then((function(e){r(e),Object(b.setCookie)("local_weather",e)}))}),(function(e){o({text:e.message,type:"error",delay:3e3})}),{enableHighAccuracy:!0,maximumAge:1e4})}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(j.Row,{children:[!s&&Object(d.jsx)(j.Col,{span:4}),Object(d.jsx)(j.Col,{children:Object(d.jsx)(u,{setWeather:r})}),!s&&Object(d.jsx)(j.Col,{span:4})]}),Object(d.jsx)(j.Spacer,{y:1}),Object(d.jsxs)(j.Row,{children:[!s&&Object(d.jsx)(j.Col,{span:4}),Object(d.jsx)(j.Col,{children:Object(d.jsx)(B,{weather:n})}),!s&&Object(d.jsx)(j.Col,{span:4})]})]})},D=function(e){var t=e.switchThemes,n=e.themeType,c=Object(j.useMediaQuery)("xs",{match:"down"});return Object(d.jsxs)(j.Page,{children:[Object(d.jsx)(j.Page.Header,{children:Object(d.jsx)(x,{left:Object(d.jsx)(j.Text,{h4:!0,style:{margin:0},children:"Karrtopelka"}),right:Object(d.jsx)(j.Button,{type:"light"===n?"success":"warning",ghost:!0,iconRight:"light"===n?Object(d.jsx)(o.Moon,{}):Object(d.jsx)(o.Sun,{}),auto:!0,size:"small",onClick:t}),switchThemes:t,themeType:n})}),Object(d.jsx)(j.Page.Content,{children:Object(d.jsx)(R,{})}),!c&&Object(d.jsx)(j.Page.Footer,{children:Object(d.jsx)(x,{left:Object(d.jsx)(j.Text,{p:!0,style:{margin:0},children:(new Date).getFullYear()}),right:Object(d.jsxs)(j.Text,{p:!0,style:{margin:0},children:["Ralabs"," ",Object(d.jsx)("span",{children:Object(d.jsx)(o.Activity,{size:16})})," ","Karrtopelka"]})})})]})},_=function(){var e=Object(c.useState)("light"),t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(d.jsx)("div",{children:Object(d.jsxs)(j.GeistProvider,{themeType:n,children:[Object(d.jsx)(j.CssBaseline,{}),Object(d.jsx)(D,{switchThemes:function(){r((function(e){return"dark"===e?"light":"dark"}))},themeType:n})]})})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,442)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),s(e),i(e)}))};i.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(_,{})}),document.getElementById("root")),I()}},[[441,1,2]]]);
//# sourceMappingURL=main.c92efb5b.chunk.js.map